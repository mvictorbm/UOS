from datetime import *
from stealth import *

monster_types = []
boss_type = []
rail = [[5180, 708], [5180, 714], [5179, 719], [5179, 722], [5182, 725], [5180, 729], [5184, 731], [5184, 727], [5180, 720], [5180, 714], [5180, 708], [5178, 701], [5182, 698], [5185, 701], [5196, 700], [5196, 690], [5187, 690], [5179, 699], [5173, 699], [5170, 693], [5173, 685], [5170, 682], [5170, 674], [5171, 665], [5174, 659], [5185, 659], [5195, 654], [5203, 656], [5203, 670], [5210, 669], [5212, 674], [5218, 676], [5223, 679], [5225, 684], [5226, 693], [5226, 707], [5219, 709], [5219, 716], [5219, 722], [5216, 728], [5216, 735], [5212, 743], [5218, 740], [5223, 734], [5224, 727], [5219, 720], [5219, 716], [5219, 709], [5227, 707], [5227, 693], [5227, 684], [5229, 681], [5218, 676], [5212, 674], [5210, 669], [5204, 668], [5201, 654], [5191, 656], [5179, 659], [5171, 659], [5170, 674], [5163, 674], [5155, 677], [5153, 675], [5155, 686], [5155, 689], [5151, 693], [5154, 696], [5159, 697], [5157, 692], [5155, 698], [5155, 688], [5155, 682], [5155, 675], [5164, 675], [5170, 675], [5170, 682], [5170, 690], [5170, 699], [5177, 699], [5177, 705], [5179, 699], [5171, 699], [5171, 673], [5154, 675], [5139, 675], [5139, 659], [5139, 665], [5139, 675], [5139, 687], [5139, 689], [5129, 690], [5129, 703], [5131, 711], [5131, 723], [5135, 724], [5139, 723], [5144, 723], [5147, 720], [5150, 717], [5150, 723], [5150, 719], [5149, 715], [5144, 723], [5131, 724], [5131, 716], [5131, 701], [5129, 690], [5139, 689], [5139, 675], [5154, 675], [5170, 675], [5171, 689], [5171, 700], [5179, 700]]

while not Dead():
	for xy in rail:
		newMoveXY(xy[0], xy[1])
		SetFindDistance(3)
		GetFindDistance()
		SetFindVertical(2)
		GetFindVertical()
		t_chase = datetime.now()
		if FindTypeEx(boss_type, -1, Ground(), False) > 0:
			t_chase = datetime.now() + timedelta(minutes=10)
		else:
			t_chase = datetime.now() + timedelta(minutes=1)

		while FindTypesArrayEx(monster_types, 0, Ground(), False) > 0 and datetime.now() < t_chase and not Dead(FindItem()):
			newMoveXY(GetX(FindItem()), GetY(FindItem()), True, 1, True)

